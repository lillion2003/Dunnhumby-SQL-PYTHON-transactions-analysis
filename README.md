# การวิเคราะห์ยอดขายและพฤติกรรมการซื้อสินค้า Dunnhumby (Dunnhumby Sales Analysis)

**Author**: Github: lillion2003

เนื้อหานี้รวบรวมขั้นตอนการวิเคราะห์ข้อมูลยอดขายและพฤติกรรมการซื้อสินค้าจากฐานข้อมูล Dunnhumby โดยมีจุดประสงค์เพื่อทำความเข้าใจแนวโน้มยอดขายรายวัน รายได้จากแต่ละแผนก และปัจจัยที่นำไปสู่ยอดขาย เพื่อนำไปใช้ในการวางแผนกลยุทธ์ทางการตลาดและการจัดการสินค้าคงคลัง

## สารบัญ (Table of Contents)

- [Problem](#problem)
- [Data](#data)
- [Tools](#tools)
- [Methodology](#methodology)
- [Results](#results)
- [Limitations](#limitations)
- [Recommendations Next Steps](#recommendations--next-steps)
- [Project Structure](#project-structure)

## Problem

โจทย์ของการวิเคราะห์นี้คือการทำความเข้าใจยอดขายจากข้อมูล Transaction ของร้านค้าปลีก

**โจทย์การวิเคราะห์:** การวิเคราะห์ยอดขายรายวัน รายได้จากแต่ละแผนก และการมีส่วนร่วมของสินค้า Private Brand ในแผนก GROCERY เพื่อให้สามารถนำไปประยุกต์ใช้ในการวางแผนกลยุทธ์ทางการตลาดและการจัดการสินค้า

โดยการศึกษานี้มีประโยชน์ในการ:

- **วิเคราะห์แนวโน้มยอดขาย**: ตรวจสอบรูปแบบยอดขายรายวันเพื่อหาแพทเทิร์นของยอดขาย
- **วิเคราะห์รายได้ตามแผนก**: ระบุแผนกที่สร้างรายได้สูงสุดและการมีส่วนร่วมของแต่ละแผนก
- **วิเคราะห์ Private Brand**: ศึกษาบทบาทของสินค้า Private Brand ในแผนก GROCERY ทั้งในด้านรายได้และปริมาณการขาย
- **สนับสนุนการตัดสินใจ**: ให้ข้อมูลสำหรับการวางแผนโปรโมชั่นและการบริหารรายได้จากการขายสินค้า

## Data

ข้อมูลที่ใช้มาจากการดึง Transaction Data ในฐานข้อมูล Postgres SQL ที่เก็บรวบรวมชุดข้อมูลหลายตาราง **Dunnhumby - The Complete Journey** ซึ่งเป็นข้อมูลการใช้บริการร้านค้าของ 2,500 ครัวเรือน

- การศึกษานี้ใช้ข้อมูลธุรกรรมการซื้อสินค้าจากชุดข้อมูล Dunnhumby - The Complete Journey
- ข้อมูลประกอบด้วยตารางหลายตาราง เช่น transaction_data, product, department และ causal_data
- ระยะเวลาของการเก็บรวบรวมข้อมูลที่ระบุในชุดข้อมูล: 711 วัน
  **Note** ข้อมูลชุดนี้ดาวน์โหลดจากเว็บไซต์ Dunnhumby โดยตรง

![Table Schema](Table%20Schema.png)

## Tools

เครื่องมือและไลบรารี่ที่ใช้ในการวิเคราะห์:

**Python Libraries:**

- pandas - สำหรับการจัดการและวิเคราะห์ข้อมูล
- psycopg2 - สำหรับการเชื่อมต่อกับฐานข้อมูล PostgreSQL
- matplotlib - สำหรับการสร้างกราฟและการแสดงผลข้อมูล
- seaborn - สำหรับการปรับปรุงกราฟ ใช้ควบคู่กับ matplotlib
- plotly - สำหรับการสร้างกราฟแบบ Interactive

**Database Tools:**

- PostgreSQL - ระบบจัดการฐานข้อมูล
- pgAdmin - เครื่องมือจัดการฐานข้อมูล PostgreSQL

## Methodology

**1. Database Connection**

ขั้นตอนการเชื่อมต่อฐานข้อมูล:

- **เชื่อมต่อ PostgreSQL**: ใช้ psycopg2 เพื่อเชื่อมต่อกับฐานข้อมูล Dunnhumby

**2. Daily Revenue Analysis**

ขั้นตอนการวิเคราะห์:

- **ดึงข้อมูล**: ใช้ SQL Query เพื่อดึงยอดขายรายวันจากตาราง transaction_data
- **สร้างกราฟ**: แสดงแนวยอดขายรายวันด้วย Line Chart
- **วิเคราะห์แพทเทิร์น**: ตรวจสอบรูปแบบการขายและช่วงเวลาที่มียอดขายสูง/ต่ำ

**3. Department Revenue Analysis**

ขั้นตอนการวิเคราะห์:

- **คำนวณรายได้**: ใช้ SQL Query เพื่อคำนวณรายได้รวมของแต่ละแผนก
- **คำนวณเปอร์เซ็นต์**: คำนวณเปอร์เซ็นต์การมีส่วนร่วมของแต่ละแผนกต่อรายได้รวม
- **สร้างกราฟ**: แสดงผลด้วย Horizontal Bar Chart เรียงลำดับจากมากไปน้อย

**4. Private Brand Analysis in GROCERY Department**

ขั้นตอนการวิเคราะห์:

- **กรองข้อมูล**: เลือกเฉพาะข้อมูลจากแผนก GROCERY
- **แยกประเภท**: แยกข้อมูลระหว่างสินค้า Private Brand และ National Brand
- **คำนวณสัดส่วน**: คำนวณเปอร์เซ็นต์ส่วนแบ่งในด้านรายได้และปริมาณการขาย

## Results

จากการวิเคราะห์ ได้ข้อมูลสำคัญดังนี้:

- การเพิ่มยอดขายรายวันมีส่วนเกี่ยวข้องชัดเจนกับการเพิ่มลูกค้าหน้าใหม่ ควรมีแคมเปญในการดึงลูกค้าใหม่อยู่เรื่อยๆ
- วันเสาร์และวันอาทิตย์เป็นวันที่มีลูกค้ามากที่สุด (ดัชนีฤดูกาลมีค่ามากกว่าปกติ ประมาณ 11 จุดเปอร์เซนต์) และลูกค้าอาจใช้จ่ายอย่างผ่อนคลายมากกว่าวันอื่นๆ (เนื่องจากวันเหล่านี้มียอดใช้จ่ายเฉลี่ยสูงกว่าวันอื่นๆประมาณ 20 จุดเปอร์เซนต์) สามารถพิจารณาจัดแคมเปญหรือวางแผนการตลาดเพิ่มเติมโดยเฉพาะสำหรับวันสุดสัปดาห์
- ส่วนลดบนหิ้งมีประสิทธิภาพกว่าการจัดโปรโมชั่นลดราคาด้วยคูปอง (Correlation ของส่วนลดที่ได้ต่อยอดจ่ายของลูกค้าประมาณ 61% ถึง 76% ในขณะที่คูปองประมาณ 25% ถึง 48%)
- สินค้าในร้านค้ามาจากหลายหมวดไม่มีสินค้าใดเป็นสินค้า Hero (ข้อสรุปขึ้นกับการพิจารณาข้อ 11) และสินค้าเหล่านั้นเป็นสินค้าที่สร้างรายได้มั่นคงมาอย่างยาวนาน (ไม่ใช่รายได้ฉาบฉวย)
- แผนกที่ทำเงินได้มากที่สุดคือแผนก Grocery (มีส่วนแบ่งรายได้ 50.81%)
- ผลิตภัณฑ์ Private Brand ในแผนก Grocery ที่วางขาย สามารถแย่งส่วนแบ่งจำนวนขายจากแบรนด์ภายนอกได้ **1 ใน 3** และสามารถแย่งส่วนแบ่งยอดขายได้ **1 ใน 4** ของสินค้าในแผนก Grocery ทั้งหมด

สามารถดูรายละเอียดการวิเคราะห์ทั้งหมดได้ใน [Jupyter Notebook](./Dunnhumby%20Sales%20Analysis.ipynb)

## Limitations

**ข้อจำกัดของการศึกษา:**

**ข้อมูลในช่วงเวลาจำกัด**: การวิเคราะห์ครอบคลุมเพียง 711 วัน ทำให้ไม่สามารถเห็นภาพรวมจริง การวิเคราะห์จึงเป็นการวิเคราะห์โดยสังเขป

## Recommendations & Next Steps

**ข้อเสนอแนะและแนวทางการพัฒนาต่อยอด:**

- **การวิเคราะห์สถานการณ์**: ทำการวิเคราะห์เพิ่มเติมเกี่ยวกับปัจจัยที่ส่งผลต่อยอดขายในแต่ละช่วงเวลา เช่น โปรโมชั่นที่ Launch ในช่วงเวลาต่างกัน

- **การหาสินค้าที่มักซื้อร่วมกัน**: ใช้ Recommender systerm หรือ Association Rule ระบุสินค้าทีมีโอกาสซื้อร่วมกันสูง

- **การวิเคราะห์ Customer Segmentation**: แบ่งกลุ่มลูกค้าตามพฤติกรรมการซื้อเพื่อออกแบบกลยุทธ์การตลาดที่เหมาะสม

- **Dashboard Development**: พัฒนา Dashboard เพื่อติดตามยอดขายและประสิทธิภาพของแต่ละแผนก

## Project Structure

สามารถดูรายละเอียดโค้ดและการวิเคราะห์ทั้งหมดได้ในไฟล์ [Jupyter Notebook](./Dunnhumby%20Sales%20Analysis.ipynb)

```
├── README_Dunnhumby_Sales_Analysis.md  - ไฟล์อธิบายภาพรวมโปรเจกต์ (ไฟล์นี้)
├── Dunnhumby Sales Analysis.ipynb      - โค้ดการวิเคราะห์และการสร้างกราฟทั้งหมด
└── Table Schema.png                    - ERD ของตารางในฐานข้อมูล Dunnhumby
```
